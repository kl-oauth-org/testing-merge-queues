version: 2.1

parameters:
  param-a:
    type: string
    default: "current"
    description: "somedescription"
  another-param:
    type: boolean
    default: false
  os:
    default: "linux"
    description: The target Operating System for the heroku binary. Must be one of "linux", "darwin", "win32".
    type: enum
    enum: ["linux", "darwin", "win32"]

jobs:
  hello-job:
    docker:
      - image: cimg/node:17.2.0 # the primary container, where your job's commands are run
    steps:
      - checkout # check out the code in the project directory
      - run: echo "hello world" << pipeline.parameters.param-a >> # run the `echo` command
  hello-job2:
    docker:
      - image: cimg/node:17.2.0 # the primary container, where your job's commands are run
    steps:
      - checkout # check out the code in the project directory
      - run: echo "hello world 2" << pipeline.parameters.param-a >> # run the `echo` command
  hello-job3:
    docker:
      - image: cimg/node:17.2.0 # the primary container, where your job's commands are run
    steps:
      - checkout # check out the code in the project directory
      - run: echo "hello world 3" << pipeline.parameters.param-a >> # run the `echo` command
  hello-job4:
    docker:
      - image: cimg/node:17.2.0 # the primary container, where your job's commands are run
    steps:
      - checkout # check out the code in the project directory
      - run: echo "hello world 4" << pipeline.parameters.param-a >> # run the `echo` command
  hello-job5:
    docker:
      - image: cimg/node:17.2.0 # the primary container, where your job's commands are run
    steps:
      - checkout # check out the code in the project directory
      - run: echo "hello world 5" << pipeline.parameters.param-a >> # run the `echo` command

workflows:
  my-workflow:
    jobs:
      - hello-job:
          filters:
            tags:
              only:
                - /.*/
      - hello-job2:
          requires:
            - hello-job
          filters:
            tags:
              only:
                - /.*/

      - hello-job3:
          requires:
            - hello-job2
          filters:
            tags:
              only:
                - /.*/

      - hello-job4:
          requires:
            - hello-job3
          filters:
            tags:
              only:
                - /.*/

      - hello-job5:
          requires:
            - hello-job4
          filters:
            tags:
              only:
                - /.*/

